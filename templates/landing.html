{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Home • Water Quality</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{
      font-family: Inter, -apple-system, BlinkMacSystemFont, sans-serif;
      background:#0c0c0c; min-height:100vh; display:flex; flex-direction:column; color:#020617;
    }

    /* Frame (same as tester.html) */
    .container{
      max-width:390px; margin:0 auto; min-height:100vh; position:relative; background:#fff; width:100%;
      display:flex; flex-direction:column;
    }
    @media (min-width:768px){
      .container{max-width:600px; margin:20px auto; border-radius:20px 20px 0 0; box-shadow:0 10px 30px rgba(0,0,0,.1); min-height:calc(100vh - 40px); overflow:hidden}
    }

    /* HERO on white */
    .hero{padding:28px 23px 8px; text-align:center;}
    .hero h1{
      color:#0D50CD; font-weight:800; line-height:1.05; letter-spacing:.2px;
      font-size:clamp(32px,8.5vw,48px);
    }
    .hero h1 .break{display:block; margin-top:2px;}

    /* CONTENT */
    .content{padding:16px 23px 120px; flex:1;}

    /* STAT CARDS (soft, rounded) */
    .stats{display:grid; grid-template-columns:1fr 1fr; gap:18px; margin-bottom:20px;}
    .stat{
      background:#EEF3FF; border-radius:16px; padding:16px 14px;
      display:flex; align-items:center; gap:12px;
      box-shadow:0 1px 0 rgba(13,80,205,.06) inset;
      border:1px solid rgba(13,80,205,.15);
    }
    .stat svg{width:28px; height:28px; flex:0 0 28px; stroke:#0D50CD}
    .num{font-size:24px; font-weight:500; color:#111827; line-height:1}
    .label{font-size:14px; color:#6B7280; margin-top:2px}

    /* BANNER (gradient + subtle waves) */
    .banner{
      position:relative; overflow:hidden; border-radius:16px;
      background:linear-gradient(180deg,#1863ff 0%, #0d50cd 100%);
      color:#fff; padding:22px 18px; margin-bottom:20px; isolation:isolate;
    }
    .banner .waves{position:absolute; inset:0; opacity:.22; z-index:1; pointer-events:none;}
    .banner .waves svg{width:140%; height:100%; transform:translateX(-10%)}
    .banner h2{position:relative; z-index:2; font-size:clamp(20px,5.2vw,30px); font-weight:700; margin-bottom:10px;}
    .banner p{position:relative; z-index:2; font-size:16px; line-height:1.5; color:rgba(255,255,255,.96);}

    /* CTA (large, airy) */
    .cta{
      background:#F1F6FF;
      border:1px solid rgba(13,80,205,.15);
      border-radius:18px; padding:18px; display:grid; grid-template-columns:1fr auto; gap:10px 14px; align-items:center;
      overflow: visible;
    }
    .cta h3{
      grid-column:1 / -1; color:#0D50CD; font-weight:700; line-height:1.05; letter-spacing:.2px;
      font-size:clamp(24px,6.5vw,36px);
    }
    .cta p{font-size:16px; color:#0f172a; max-width:36ch}
    .cta .art{grid-column:2 / 3; align-self:center; overflow: visible}
    .cta .btn{
      grid-column:1 / 2; margin-top:6px;
      background:#0D50CD; color:#fff; border:none; border-radius:12px; padding:14px 18px;
      font-weight:800; font-size:16px; text-decoration:none; display:inline-block;
    }
    .cta .btn:hover{background:#0a42a8}

    /* Bottom nav styles centralized in components/navbar.html */
  </style>
</head>
<body>
  <div class="container">
    <!-- White hero -->


    <header class="hero" role="banner">
      <h1>
        Pure Insights.<span class="break">Clear decisions.</span>
      </h1>

    </header>

    <main class="content" role="main">
      <!-- Stats -->
      <section class="stats" aria-label="Stats">
        <div class="stat" aria-live="polite">
          <!-- glass -->
          <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <path d="M4 3h16l-1.5 15.5A4 4 0 0 1 14.5 22h-5A4 4 0 0 1 5.5 18.5L4 3Z"/>
            <path d="M4 7h16"/>
          </svg>
          <div>
            <div class="num">{{ tests_count|default:24 }}</div>
            <div class="label">Tests performed</div>
          </div>
        </div>

        <div class="stat">
          <!-- droplet -->
          <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <path d="M12 2s7 7 7 12a7 7 0 1 1-14 0c0-5 7-12 7-12z"/>
          </svg>
          <div>
            <div class="num">{{ repurposed_liters|default:"40,000L" }}</div>
            <div class="label">Repurposed Water</div>
          </div>
        </div>
      </section>

      <!-- Banner -->
      <section class="banner" aria-label="From Waste to Wonder">
        <div class="waves" aria-hidden="true">
          <svg viewBox="0 0 800 300" preserveAspectRatio="none">
            <defs>
              <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0%" stop-color="#fff"/><stop offset="100%" stop-color="#fff"/>
              </linearGradient>
            </defs>
            <path d="M0,120 C120,160 240,80 360,110 C480,140 600,80 720,110 L800,130 L800,300 L0,300 Z" fill="url(#g)"/>
            <path d="M0,160 C120,190 240,130 360,155 C480,180 600,130 720,155 L800,170 L800,300 L0,300 Z" fill="url(#g)"/>
            <path d="M0,200 C120,230 240,180 360,205 C480,230 600,180 720,205 L800,220 L800,300 L0,300 Z" fill="url(#g)"/>
          </svg>
        </div>
        <h2>From Scan to Action</h2>
        <p>Upload PH strip readings, pictures of the water, and your location. Our AI translates the science into a clear quality score and a treatment plan tailored to your goal—drink, irrigate, or clean—at a price you can afford.</p>

      </section>

      <!-- CTA -->
      <section class="cta" aria-label="Repurpose your Water">
        <h3>Repurpose<br>Your<br>Water</h3>
        <p>Upload sensor readings and photos to discover safe, affordable ways to give your water a second life whether for drinking, farming, or cleaning.</p>

        <!-- Illustration (droplet + angled test strip) -->
        <div class="art" aria-hidden="true">
  <svg viewBox="0 0 240 160" width="220" height="140" style="display:block; overflow: visible">
    <!-- Droplet: scaled DOWN and nudged left -->
    <g transform="translate(42,-8) scale(0.42)">
      <defs>
        <linearGradient id="dropGradCTA" x1="0" y1="0" x2="0" y2="1">
          <stop offset="0%" stop-color="#bcd6ff"/>
          <stop offset="100%" stop-color="#9fc2ff"/>
        </linearGradient>
        <clipPath id="dropClipCTA">
          <path d="M80 20 C110 55 120 75 120 95 a40 40 0 1 1 -80 0 c0-20 10-40 40-75z"/>
        </clipPath>
      </defs>
      <!-- Outer shape -->
      <path d="M80 20 C110 55 120 75 120 95 a40 40 0 1 1 -80 0 c0-20 10-40 40-75z"
            fill="url(#dropGradCTA)" stroke="#4E7CF0" stroke-width="6"/>
      <!-- Highlights clipped inside the droplet -->
      <g clip-path="url(#dropClipCTA)">
        <!-- Two shiny ovals -->
        <ellipse cx="68" cy="82" rx="8" ry="12" fill="#ffffff" opacity="0.85"/>
        <ellipse cx="56" cy="96" rx="6" ry="9" fill="#ffffff" opacity="0.55"/>
      </g>
    </g>

    <!-- Test strip: scaled UP and placed to the RIGHT -->
    <g transform="translate(145,-60) rotate(12) scale(2.45)">
      <!-- Outer body (deep navy) -->
      <rect x="0" y="0" width="22" height="110" rx="6" fill="#1E3A8A"/>
      <!-- Inner white substrate (expanded to thin outer border) -->
      <rect x="2" y="2" width="18" height="106" rx="5" fill="#ffffff"/>
      <!-- Color pads with white gaps (match reference proportions) -->
      <rect x="5" y="24" width="12" height="11" rx="2" fill="#ff7b8d"/>
      <rect x="5" y="38" width="12" height="11" rx="2" fill="#ffd86b"/>
      <rect x="5" y="52" width="12" height="11" rx="2" fill="#ffe27a"/>
      <rect x="5" y="66" width="12" height="11" rx="2" fill="#b390d7"/>
      <rect x="5" y="80" width="12" height="11" rx="2" fill="#ff6f6f"/>
      <rect x="5" y="94" width="12" height="11" rx="2" fill="#4fb04c"/>
    </g>
  </svg>
</div>


        <a class="btn" href="{% url 'analysis' %}">Test your water</a>
      </section>
    </main>

    <!-- Bottom nav (same as tester) -->
    {% include 'components/navbar.html' with active_tab='home' %}
  </div>
</body>
</html>
